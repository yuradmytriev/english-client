(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{789:function(t,n,e){"use strict";e.d(n,"a",(function(){return l}));var r=e(128),o=e.n(r),i=e(39);function a(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u="Can't upload image",s=function(t){return"".concat(i.a,"/words/").concat(t)},l=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,r,l,f;return n=t,e=null,r=[{key:"update",value:function(t){var n=t.wordId,e=t.body;fetch(s(n),{body:e,method:"PUT"}).then((function(t){return t.json()})).then((function(t){return t.id&&o.a.success("Image updated successfully"),t})).catch((function(){o.a.error(u)}))}},{key:"undraft",value:function(t){fetch("".concat(i.a,"/words/undraft/").concat(t),{method:"GET"}).then((function(t){return t.json()})).then((function(t){return t.id&&o.a.success("Moved to the words list"),t})).catch((function(){o.a.error("Cannot move to the words list")}))}},{key:"updateJSON",value:function(t){var n=t.wordId,e=t.wordProps,r=JSON.stringify(e);return fetch(s(n),{body:r,method:"PUT",headers:{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){return t})).catch((function(){o.a.error(u)}))}},{key:"delete",value:(l=regeneratorRuntime.mark((function t(n){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(s(n),{method:"DELETE"});case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}),t)})),f=function(){var t=this,n=arguments;return new Promise((function(e,r){var o=l.apply(t,n);function i(t){a(o,e,r,i,c,"next",t)}function c(t){a(o,e,r,i,c,"throw",t)}i(void 0)}))},function(t){return f.apply(this,arguments)})}],e&&c(n.prototype,e),r&&c(n,r),t}()},790:function(t,n,e){"use strict";e.d(n,"b",(function(){return r})),e.d(n,"a",(function(){return o}));var r="0 3px 6px 0 rgba(0,0,0,0.12), 0 0 1px 0 rgba(0,0,0,0.12)",o="4px"},795:function(t,n,e){var r=e(229),o=e(802);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},796:function(t,n,e){"use strict";e.d(n,"a",(function(){return s}));var r=e(0),o=e.n(r),i=e(24),a=e.n(i),c=e(13),u=Object(c.a)(a.a).withConfig({displayName:"styles__Icon",componentId:"sc-1ins3vw-0"})(["margin:0 10px;"]),s=function(t){var n=t.word;return o.a.createElement(u,{theme:"twoTone",type:"sound",onClick:function(){window.responsiveVoice.speak(n)}})}},802:function(t,n,e){(n=e(230)(!1)).push([t.i,".item-enter {\n    opacity: 0;\n}\n.item-enter-active {\n    opacity: 1;\n    transition: opacity 400ms ease-in;\n}\n.item-exit {\n    opacity: 1;\n}\n.item-exit-active {\n    opacity: 0;\n    transition: opacity 400ms ease-in;\n}\n",""]),t.exports=n},873:function(t,n,e){"use strict";e.r(n),e.d(n,"Training",(function(){return A}));var r=e(0),o=e.n(r),i=e(875),a=e(874),c=e(29),u=e(277);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return l(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var f=function(){var t,n=(t=Object(c.b)(),{fetchWords:function(){t(Object(u.b)())},words:Object(c.c)((function(t){return t.words}))}),e=n.words,o=n.fetchWords,i=s(Object(r.useState)([]),2),a=i[0],l=i[1];return Object(r.useEffect)((function(){o();var t=e.filter((function(t){return!t.learned}));l(t)}),[e.length]),{trainingWords:a,setTrainingWords:l}},d=e(69),p=e.n(d),y=e(24),m=e.n(y),h=e(789),v=e(796),w=e(13),b=e(790),g=w.a.div.withConfig({displayName:"styles__Wrapper",componentId:"bw4qdk-0"})(["text-align:center;background:#fff;padding:33px 15px;border-radius:",";box-shadow:0 0 0 1px rgba(63,63,68,0.05),0 1px 3px 0 rgba(63,63,68,0.15);display:inline-block;margin:0 auto;font-size:21px;width:500px;@media (max-width:480px){max-width:500px;margin:15px;}"],b.a),x=w.a.div.withConfig({displayName:"styles__Container",componentId:"bw4qdk-1"})(["display:flex !important;align-items:center;height:94vh;"]),j=w.a.div.withConfig({displayName:"styles__ButtonsWrapper",componentId:"bw4qdk-2"})(["display:flex;justify-content:space-between;width:175px;margin:0 auto;margin-top:20px;"]),E=w.a.div.withConfig({displayName:"styles__Word",componentId:"bw4qdk-3"})(["color:#000;margin-right:10px;"]),k=w.a.div.withConfig({displayName:"styles__Description",componentId:"bw4qdk-4"})(["color:#909090;"]),O=w.a.div.withConfig({displayName:"styles__IconWordLayout",componentId:"bw4qdk-5"})(["display:flex;justify-content:center;align-items:center;"]);function I(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return C(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return C(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var S=function(t){var n=t.id,e=t.word,i=t.translate,a=t.context,c=t.deleteTrainingWord,u=I(Object(r.useState)(!1),2),s=u[0],l=u[1];Object(r.useEffect)((function(){window.responsiveVoice.speak(e)}),[]);var f=function(){h.a.updateJSON({wordId:n,wordProps:{learned:!0}}),c(n)};!function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){if(e&&e.addEventListener){var n=function(t){return o.current(t)};return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}}}),[t,e])}("keydown",(function(t){var e=t.key;"ArrowRight"===e&&c(n),"ArrowLeft"===e&&f()}));return o.a.createElement(x,null,o.a.createElement(g,null,o.a.createElement(O,null,o.a.createElement(E,null,e),o.a.createElement(v.a,{word:e}),o.a.createElement(m.a,{theme:"twoTone",type:"question-circle",onClick:function(){l((function(t){return!t}))}})),s&&o.a.createElement(k,null,i),o.a.createElement(k,null,a),o.a.createElement(j,null,o.a.createElement(p.a,{onClick:f,size:"large",type:"primary"},"Know"),o.a.createElement(p.a,{onClick:function(){return c(n)},size:"large",type:"danger"},"Missed"))))};e(795);function _(){return(_=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}var T=function(t,n){return 0===n},A=function(){var t=f(),n=t.trainingWords,e=t.setTrainingWords,r=function(t){e(n.filter((function(n){return n.id!==t})))};return n?o.a.createElement(i.a,null,n.filter(T).map((function(t){return o.a.createElement(a.a,{key:t.id,timeout:500,classNames:"item"},o.a.createElement(S,_({},t,{deleteTrainingWord:r})))}))):null};n.default=A}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL3Nkay9Xb3Jkc1NESy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL2NvbnN0YW50cy9zdHlsZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9zdHlsZXMvYW5pbWF0aW9uLmNzcz9iYjRlIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3dvcmQvY29tcG9uZW50cy9Xb3JkUHJvbnVuY2lhdGlvbi9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvd29yZC9jb21wb25lbnRzL1dvcmRQcm9udW5jaWF0aW9uL1dvcmRQcm9udW5jaWF0aW9uLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvc2hhcmVkL3N0eWxlcy9hbmltYXRpb24uY3NzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL3RyYWluaW5nL2hvb2tzL3VzZVRyYWluaW5nV29yZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NoYXJlZC9zdGF0ZS9mZXRjaFdvcmRzL3VzZUZldGNoV29yZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdHJhaW5pbmcvY29tcG9uZW50cy9Xb3JkQ2FyZC9zdHlsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdHJhaW5pbmcvY29tcG9uZW50cy9Xb3JkQ2FyZC9Xb3JkQ2FyZC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvdHJhaW5pbmcvaG9va3MvdXNlRXZlbnRMaXN0ZW5lci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy90cmFpbmluZy9wYWdlL1RyYWluaW5nLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy90cmFpbmluZy9wYWdlL2luZGV4LnRzIl0sIm5hbWVzIjpbIkVSUk9SIiwiY3JlYXRlV29yZHNVUkwiLCJpZCIsIlNFUlZFUl9VUkwiLCJXb3Jkc1NESyIsIndvcmRJZCIsImJvZHkiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJkYXRhIiwianNvbiIsInJlcyIsInN1Y2Nlc3MiLCJlcnJvciIsIndvcmRQcm9wcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJoZWFkZXJzIiwicmVzcG9uc2UiLCJjYXJkU2hhZG93IiwiY2FyZEJvcmRlclJhZGl1cyIsImFwaSIsImNvbnRlbnQiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vZHVsZSIsImkiLCJvcHRpb25zIiwiZXhwb3J0cyIsImxvY2FscyIsIkljb24iLCJzdHlsZWQiLCJXb3JkUHJvbnVuY2lhdGlvbiIsIndvcmQiLCJ0aGVtZSIsInR5cGUiLCJvbkNsaWNrIiwid2luZG93IiwicmVzcG9uc2l2ZVZvaWNlIiwic3BlYWsiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJwdXNoIiwidXNlVHJhaW5pbmdXb3JkcyIsImRpc3BhdGNoIiwidXNlRGlzcGF0Y2giLCJmZXRjaFdvcmRzIiwiZmlyZUZldGNoV29yZHNBY3Rpb24iLCJ3b3JkcyIsInVzZVNlbGVjdG9yIiwic3RhdGUiLCJ1c2VTdGF0ZSIsInRyYWluaW5nV29yZHMiLCJzZXRUcmFpbmluZ1dvcmRzIiwidXNlRWZmZWN0IiwidW5sZWFybmVkV29yZHMiLCJmaWx0ZXIiLCJsZWFybmVkIiwibGVuZ3RoIiwiV3JhcHBlciIsImRpdiIsIkNvbnRhaW5lciIsIkJ1dHRvbnNXcmFwcGVyIiwiV29yZCIsIkRlc2NyaXB0aW9uIiwiSWNvbldvcmRMYXlvdXQiLCJXb3JkQ2FyZCIsInRyYW5zbGF0ZSIsImNvbnRleHQiLCJkZWxldGVUcmFpbmluZ1dvcmQiLCJzaG93VHJhbnNsYXRlIiwic2V0U2hvd1RyYW5zbGF0ZSIsIm1lbW9pemVXb3JkIiwidXBkYXRlSlNPTiIsImV2ZW50TmFtZSIsImhhbmRsZXIiLCJlbGVtZW50Iiwic2F2ZWRIYW5kbGVyIiwidXNlUmVmIiwiY3VycmVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudExpc3RlbmVyIiwiZXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidXNlRXZlbnRMaXN0ZW5lciIsImtleSIsInByZXYiLCJzaXplIiwic2hvd0ZpcnN0IiwiXyIsImluZGV4IiwiVHJhaW5pbmciLCJUcmFuc2l0aW9uR3JvdXAiLCJtYXAiLCJDU1NUcmFuc2l0aW9uIiwidGltZW91dCIsImNsYXNzTmFtZXMiXSwibWFwcGluZ3MiOiJ5YkFJQSxJQUFNQSxFQUNVLHFCQUdWQyxFQUFpQixTQUFDQyxHQUFELGdCQUFtQkMsSUFBbkIsa0JBQXVDRCxJQUVqREUsRUFBYix5Qiw0RkFBQSxTLFlBQUEsUyxFQUFBLEUsRUFBQSxLLEVBQUEsaUNBQzRFLElBQTFEQyxFQUEwRCxFQUExREEsT0FBUUMsRUFBa0QsRUFBbERBLEtBQ3RCQyxNQUFNTixFQUFlSSxHQUFTLENBQzVCQyxPQUNBRSxPQUFRLFFBRVBDLE1BQUssU0FBQUMsR0FBSSxPQUFJQSxFQUFLQyxVQUNsQkYsTUFBSyxTQUFBRyxHQUtKLE9BSklBLEVBQUlWLElBQ04sSUFBUVcsUUFBUSw4QkFHWEQsS0FWWCxPQVlTLFdBQ0wsSUFBUUUsTUFBTWQsUUFmdEIsOEJBbUJpQkUsR0FDYkssTUFBTSxHQUFELE9BQUlKLElBQUosMEJBQWdDRCxHQUFNLENBQ3pDTSxPQUFRLFFBRVBDLE1BQUssU0FBQUMsR0FBSSxPQUFJQSxFQUFLQyxVQUNsQkYsTUFBSyxTQUFBRyxHQUtKLE9BSklBLEVBQUlWLElBQ04sSUFBUVcsUUFBUSwyQkFHWEQsS0FUWCxPQVdTLFdBQ0wsSUFBUUUsTUFBTSxzQ0FoQ3RCLG9DQTBDcUIsSUFMakJULEVBS2lCLEVBTGpCQSxPQUNBVSxFQUlpQixFQUpqQkEsVUFLTVQsRUFBZVUsS0FBS0MsVUFBVUYsR0FFcEMsT0FBT1IsTUFBTU4sRUFBZUksR0FBUyxDQUNuQ0MsT0FDQUUsT0FBUSxNQUNSVSxRQUFTLENBQ1AsZUFBZ0Isc0JBR2pCVCxNQUFLLFNBQUFDLEdBQUksT0FBSUEsRUFBS0MsVUFDbEJGLE1BQUssU0FBQUcsR0FBRyxPQUFJQSxLQVJSLE9BU0UsV0FDTCxJQUFRRSxNQUFNZCxRQXZEdEIscUIsRUFBQSxvQ0EyRHNCRSxHQTNE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b20gJ2FudGQnO1xuaW1wb3J0IHsgSVdvcmQgfSBmcm9tICdzaGFyZWQvaW50ZXJmYWNlcy9JV29yZCc7XG5pbXBvcnQgeyBTRVJWRVJfVVJMIH0gZnJvbSAnc2hhcmVkL2NvbnN0YW50cy91cmwnO1xuXG5jb25zdCBFUlJPUjogeyBVUExPQURfSU1BR0U6IHN0cmluZyB9ID0ge1xuICBVUExPQURfSU1BR0U6IGBDYW4ndCB1cGxvYWQgaW1hZ2VgLFxufTtcblxuY29uc3QgY3JlYXRlV29yZHNVUkwgPSAoaWQ6IG51bWJlcikgPT4gYCR7U0VSVkVSX1VSTH0vd29yZHMvJHtpZH1gO1xuXG5leHBvcnQgY2xhc3MgV29yZHNTREsge1xuICBzdGF0aWMgdXBkYXRlKHsgd29yZElkLCBib2R5IH06IHsgd29yZElkOiBudW1iZXI7IGJvZHk6IEZvcm1EYXRhIH0pOiB2b2lkIHtcbiAgICBmZXRjaChjcmVhdGVXb3Jkc1VSTCh3b3JkSWQpLCB7XG4gICAgICBib2R5LFxuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICB9KVxuICAgICAgLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMuaWQpIHtcbiAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ0ltYWdlIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2UuZXJyb3IoRVJST1IuVVBMT0FEX0lNQUdFKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIHVuZHJhZnQoaWQpOiB2b2lkIHtcbiAgICBmZXRjaChgJHtTRVJWRVJfVVJMfS93b3Jkcy91bmRyYWZ0LyR7aWR9YCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICB9KVxuICAgICAgLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMuaWQpIHtcbiAgICAgICAgICBtZXNzYWdlLnN1Y2Nlc3MoJ01vdmVkIHRvIHRoZSB3b3JkcyBsaXN0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgIG1lc3NhZ2UuZXJyb3IoJ0Nhbm5vdCBtb3ZlIHRvIHRoZSB3b3JkcyBsaXN0Jyk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyB1cGRhdGVKU09OKHtcbiAgICB3b3JkSWQsXG4gICAgd29yZFByb3BzLFxuICB9OiB7XG4gICAgd29yZElkOiBudW1iZXI7XG4gICAgd29yZFByb3BzOiBQYXJ0aWFsPElXb3JkPjtcbiAgfSk6IFByb21pc2U8SVdvcmQ+IHtcbiAgICBjb25zdCBib2R5OiBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeSh3b3JkUHJvcHMpO1xuXG4gICAgcmV0dXJuIGZldGNoKGNyZWF0ZVdvcmRzVVJMKHdvcmRJZCksIHtcbiAgICAgIGJvZHksXG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oZGF0YSA9PiBkYXRhLmpzb24oKSlcbiAgICAgIC50aGVuKHJlcyA9PiByZXMpXG4gICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICBtZXNzYWdlLmVycm9yKEVSUk9SLlVQTE9BRF9JTUFHRSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGUoaWQ6IG51bWJlcikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goY3JlYXRlV29yZHNVUkwoaWQpLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNhcmRTaGFkb3c6IHN0cmluZyA9XG4gICcwIDNweCA2cHggMCByZ2JhKDAsMCwwLDAuMTIpLCAwIDAgMXB4IDAgcmdiYSgwLDAsMCwwLjEyKSc7XG5cbmV4cG9ydCBjb25zdCBjYXJkQm9yZGVyUmFkaXVzOiBzdHJpbmcgPSAnNHB4JztcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hbmltYXRpb24uY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJpbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJztcbmltcG9ydCB7IEljb24gYXMgQW50ZEljb24gfSBmcm9tICdhbnRkJztcblxuZXhwb3J0IGNvbnN0IEljb24gPSBzdHlsZWQoQW50ZEljb24pYFxuICBtYXJnaW46IDAgMTBweDtcbmA7XG4iLCJpbXBvcnQgUmVhY3QsIHsgRkMgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJV29yZCB9IGZyb20gJ3NoYXJlZC9pbnRlcmZhY2VzL0lXb3JkJztcbmltcG9ydCAqIGFzIFMgZnJvbSAnLi9zdHlsZXMnO1xuXG5leHBvcnQgY29uc3QgV29yZFByb251bmNpYXRpb246IEZDPFBpY2s8SVdvcmQsICd3b3JkJz4+ID0gKHtcbiAgd29yZCxcbn0pOiBKU1guRWxlbWVudCA9PiB7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gKCk6IHZvaWQgPT4ge1xuICAgIHdpbmRvdy5yZXNwb25zaXZlVm9pY2Uuc3BlYWsod29yZCk7XG4gIH07XG5cbiAgcmV0dXJuIDxTLkljb24gdGhlbWU9XCJ0d29Ub25lXCIgdHlwZT1cInNvdW5kXCIgb25DbGljaz17aGFuZGxlQ2xpY2t9IC8+O1xufTtcbiIsIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiKTtcbmV4cG9ydHMgPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oZmFsc2UpO1xuLy8gTW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuaXRlbS1lbnRlciB7XFxuICAgIG9wYWNpdHk6IDA7XFxufVxcbi5pdGVtLWVudGVyLWFjdGl2ZSB7XFxuICAgIG9wYWNpdHk6IDE7XFxuICAgIHRyYW5zaXRpb246IG9wYWNpdHkgNDAwbXMgZWFzZS1pbjtcXG59XFxuLml0ZW0tZXhpdCB7XFxuICAgIG9wYWNpdHk6IDE7XFxufVxcbi5pdGVtLWV4aXQtYWN0aXZlIHtcXG4gICAgb3BhY2l0eTogMDtcXG4gICAgdHJhbnNpdGlvbjogb3BhY2l0eSA0MDBtcyBlYXNlLWluO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IElXb3JkIH0gZnJvbSAnc2hhcmVkL2ludGVyZmFjZXMvSVdvcmQnO1xuaW1wb3J0IHsgdXNlRmV0Y2hXb3JkcyB9IGZyb20gJ3NoYXJlZC9zdGF0ZS9mZXRjaFdvcmRzL3VzZUZldGNoV29yZHMnO1xuXG5leHBvcnQgY29uc3QgdXNlVHJhaW5pbmdXb3JkcyA9ICgpID0+IHtcbiAgY29uc3QgeyB3b3JkcywgZmV0Y2hXb3JkcyB9ID0gdXNlRmV0Y2hXb3JkcygpO1xuICBjb25zdCBbdHJhaW5pbmdXb3Jkcywgc2V0VHJhaW5pbmdXb3Jkc10gPSB1c2VTdGF0ZTxJV29yZFtdIHwgYW55W10+KFtdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGZldGNoV29yZHMoKTtcbiAgICBjb25zdCB1bmxlYXJuZWRXb3JkczogSVdvcmRbXSA9IHdvcmRzLmZpbHRlcih3b3JkID0+ICF3b3JkLmxlYXJuZWQpO1xuXG4gICAgc2V0VHJhaW5pbmdXb3Jkcyh1bmxlYXJuZWRXb3Jkcyk7XG4gIH0sIFt3b3Jkcy5sZW5ndGhdKTtcblxuICByZXR1cm4geyB0cmFpbmluZ1dvcmRzLCBzZXRUcmFpbmluZ1dvcmRzIH07XG59O1xuIiwiaW1wb3J0IHsgdXNlRGlzcGF0Y2gsIHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgSVdvcmQgfSBmcm9tICdzaGFyZWQvaW50ZXJmYWNlcy9JV29yZCc7XG5pbXBvcnQgeyBJU3RhdGUgfSBmcm9tICdzaGFyZWQvaW50ZXJmYWNlcy9JU3RhdGUnO1xuaW1wb3J0IHsgZmlyZUZldGNoV29yZHNBY3Rpb24gfSBmcm9tICcuL2FjdGlvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VGZXRjaFdvcmRzIHtcbiAgd29yZHM6IEFycmF5PElXb3JkPjtcbiAgZmV0Y2hXb3JkczogKCkgPT4gdm9pZDtcbiAgZmV0Y2hXb3Jkc09mZnNldDogKG9mZnNldDogbnVtYmVyKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgY29uc3QgdXNlRmV0Y2hXb3JkcyA9ICgpID0+IHtcbiAgY29uc3QgZGlzcGF0Y2ggPSB1c2VEaXNwYXRjaCgpO1xuXG4gIGNvbnN0IHdvcmRzID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBJU3RhdGUpID0+IHN0YXRlLndvcmRzKTtcblxuICBjb25zdCBmZXRjaFdvcmRzID0gKCk6IHZvaWQgPT4ge1xuICAgIGRpc3BhdGNoKGZpcmVGZXRjaFdvcmRzQWN0aW9uKCkpO1xuICB9O1xuXG4gIHJldHVybiB7IGZldGNoV29yZHMsIHdvcmRzIH07XG59O1xuIiwiaW1wb3J0IHN0eWxlZCBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7XG5pbXBvcnQgeyBjYXJkQm9yZGVyUmFkaXVzIH0gZnJvbSAnc2hhcmVkL2NvbnN0YW50cy9zdHlsZXMnO1xuXG5leHBvcnQgY29uc3QgV3JhcHBlciA9IHN0eWxlZC5kaXZgXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcGFkZGluZzogMzNweCAxNXB4O1xuICBib3JkZXItcmFkaXVzOiAke2NhcmRCb3JkZXJSYWRpdXN9O1xuICBib3gtc2hhZG93OiAwIDAgMCAxcHggcmdiYSg2MywgNjMsIDY4LCAwLjA1KSxcbiAgICAwIDFweCAzcHggMCByZ2JhKDYzLCA2MywgNjgsIDAuMTUpO1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBmb250LXNpemU6IDIxcHg7XG4gIHdpZHRoOiA1MDBweDtcblxuICBAbWVkaWEgKG1heC13aWR0aDogNDgwcHgpIHtcbiAgICBtYXgtd2lkdGg6IDUwMHB4O1xuICAgIG1hcmdpbjogMTVweDtcbiAgfVxuYDtcblxuZXhwb3J0IGNvbnN0IENvbnRhaW5lciA9IHN0eWxlZC5kaXZgXG4gIGRpc3BsYXk6IGZsZXggIWltcG9ydGFudDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgaGVpZ2h0OiA5NHZoO1xuYDtcblxuZXhwb3J0IGNvbnN0IEJ1dHRvbnNXcmFwcGVyID0gc3R5bGVkLmRpdmBcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICB3aWR0aDogMTc1cHg7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBtYXJnaW4tdG9wOiAyMHB4O1xuYDtcblxuZXhwb3J0IGNvbnN0IFdvcmQgPSBzdHlsZWQuZGl2YFxuICBjb2xvcjogIzAwMDtcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xuYDtcblxuZXhwb3J0IGNvbnN0IERlc2NyaXB0aW9uID0gc3R5bGVkLmRpdmBcbiAgY29sb3I6ICM5MDkwOTA7XG5gO1xuXG5leHBvcnQgY29uc3QgSWNvbldvcmRMYXlvdXQgPSBzdHlsZWQuZGl2YFxuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbmA7XG4iLCJpbXBvcnQgUmVhY3QsIHsgRkMsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBCdXR0b24sIEljb24gfSBmcm9tICdhbnRkJztcbmltcG9ydCB7IElXb3JkIH0gZnJvbSAnc2hhcmVkL2ludGVyZmFjZXMvSVdvcmQnO1xuaW1wb3J0IHsgV29yZHNTREsgfSBmcm9tICdzaGFyZWQvc2RrL1dvcmRzU0RLJztcbmltcG9ydCB7IHVzZUV2ZW50TGlzdGVuZXIgfSBmcm9tICcuLi8uLi9ob29rcy91c2VFdmVudExpc3RlbmVyJztcbmltcG9ydCB7IFdvcmRQcm9udW5jaWF0aW9uIH0gZnJvbSAnbW9kdWxlcy93b3JkL2NvbXBvbmVudHMvV29yZFByb251bmNpYXRpb24nO1xuaW1wb3J0ICogYXMgUyBmcm9tICcuL3N0eWxlcyc7XG5cbmludGVyZmFjZSBJV29yZENhcmRcbiAgZXh0ZW5kcyBQaWNrPElXb3JkLCAnaWQnIHwgJ3dvcmQnIHwgJ3RyYW5zbGF0ZScgfCAnY29udGV4dCc+IHtcbiAgZGVsZXRlVHJhaW5pbmdXb3JkOiAoaWQ6IG51bWJlcikgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGNvbnN0IFdvcmRDYXJkOiBGQzxJV29yZENhcmQ+ID0gKHtcbiAgaWQsXG4gIHdvcmQsXG4gIHRyYW5zbGF0ZSxcbiAgY29udGV4dCxcbiAgZGVsZXRlVHJhaW5pbmdXb3JkLFxufSkgPT4ge1xuICBjb25zdCBbc2hvd1RyYW5zbGF0ZSwgc2V0U2hvd1RyYW5zbGF0ZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICB3aW5kb3cucmVzcG9uc2l2ZVZvaWNlLnNwZWFrKHdvcmQpO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgbWVtb2l6ZVdvcmQgPSAoKTogdm9pZCA9PiB7XG4gICAgY29uc3Qgd29yZFByb3BzOiBQaWNrPElXb3JkLCAnbGVhcm5lZCc+ID0geyBsZWFybmVkOiB0cnVlIH07XG5cbiAgICBXb3Jkc1NESy51cGRhdGVKU09OKHtcbiAgICAgIHdvcmRJZDogaWQsXG4gICAgICB3b3JkUHJvcHMsXG4gICAgfSk7XG5cbiAgICBkZWxldGVUcmFpbmluZ1dvcmQoaWQpO1xuICB9O1xuXG4gIGNvbnN0IHRyYWluaW5nTmF2aWdhdGlvbkJ5S2V5Ym9hcmQgPSAoeyBrZXkgfSkgPT4ge1xuICAgIGlmIChrZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgZGVsZXRlVHJhaW5pbmdXb3JkKGlkKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgbWVtb2l6ZVdvcmQoKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRyYWluaW5nTmF2aWdhdGlvbkJ5S2V5Ym9hcmQpO1xuXG4gIGNvbnN0IHRvZ2dsZVRyYW5zbGF0ZSA9ICgpOiB2b2lkID0+IHtcbiAgICBzZXRTaG93VHJhbnNsYXRlKHByZXYgPT4gIXByZXYpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPFMuQ29udGFpbmVyPlxuICAgICAgPFMuV3JhcHBlcj5cbiAgICAgICAgPFMuSWNvbldvcmRMYXlvdXQ+XG4gICAgICAgICAgPFMuV29yZD57d29yZH08L1MuV29yZD5cbiAgICAgICAgICA8V29yZFByb251bmNpYXRpb24gd29yZD17d29yZH0gLz5cbiAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgdGhlbWU9XCJ0d29Ub25lXCJcbiAgICAgICAgICAgIHR5cGU9XCJxdWVzdGlvbi1jaXJjbGVcIlxuICAgICAgICAgICAgb25DbGljaz17dG9nZ2xlVHJhbnNsYXRlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvUy5JY29uV29yZExheW91dD5cbiAgICAgICAge3Nob3dUcmFuc2xhdGUgJiYgPFMuRGVzY3JpcHRpb24+e3RyYW5zbGF0ZX08L1MuRGVzY3JpcHRpb24+fVxuICAgICAgICA8Uy5EZXNjcmlwdGlvbj57Y29udGV4dH08L1MuRGVzY3JpcHRpb24+XG5cbiAgICAgICAgPFMuQnV0dG9uc1dyYXBwZXI+XG4gICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXttZW1vaXplV29yZH0gc2l6ZT1cImxhcmdlXCIgdHlwZT1cInByaW1hcnlcIj5cbiAgICAgICAgICAgIEtub3dcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkZWxldGVUcmFpbmluZ1dvcmQoaWQpfVxuICAgICAgICAgICAgc2l6ZT1cImxhcmdlXCJcbiAgICAgICAgICAgIHR5cGU9XCJkYW5nZXJcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIE1pc3NlZFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICA8L1MuQnV0dG9uc1dyYXBwZXI+XG4gICAgICA8L1MuV3JhcHBlcj5cbiAgICA8L1MuQ29udGFpbmVyPlxuICApO1xufTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgY29uc3QgdXNlRXZlbnRMaXN0ZW5lciA9IChldmVudE5hbWUsIGhhbmRsZXIsIGVsZW1lbnQgPSB3aW5kb3cpID0+IHtcbiAgY29uc3Qgc2F2ZWRIYW5kbGVyID0gdXNlUmVmKCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzYXZlZEhhbmRsZXIuY3VycmVudCA9IGhhbmRsZXI7XG4gIH0sIFtoYW5kbGVyXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpc1N1cHBvcnRlZCA9IGVsZW1lbnQgJiYgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyO1xuICAgIGlmICghaXNTdXBwb3J0ZWQpIHJldHVybjtcblxuICAgIGNvbnN0IGV2ZW50TGlzdGVuZXIgPSBldmVudCA9PiBzYXZlZEhhbmRsZXIuY3VycmVudChldmVudCk7XG5cbiAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBldmVudExpc3RlbmVyKTtcbiAgICB9O1xuICB9LCBbZXZlbnROYW1lLCBlbGVtZW50XSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IEZDIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ1NTVHJhbnNpdGlvbiwgVHJhbnNpdGlvbkdyb3VwIH0gZnJvbSAncmVhY3QtdHJhbnNpdGlvbi1ncm91cCc7XG5pbXBvcnQgeyBJV29yZCB9IGZyb20gJ3NoYXJlZC9pbnRlcmZhY2VzL0lXb3JkJztcbmltcG9ydCB7IHVzZVRyYWluaW5nV29yZHMgfSBmcm9tICcuLi9ob29rcy91c2VUcmFpbmluZ1dvcmRzJztcbmltcG9ydCB7IFdvcmRDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Xb3JkQ2FyZCc7XG5pbXBvcnQgJ3NoYXJlZC9zdHlsZXMvYW5pbWF0aW9uLmNzcyc7XG5cbmNvbnN0IHNob3dGaXJzdCA9IChfOiB1bmtub3duLCBpbmRleDogbnVtYmVyKTogYm9vbGVhbiA9PiBpbmRleCA9PT0gMDtcblxuZXhwb3J0IGNvbnN0IFRyYWluaW5nOiBGQyA9ICgpID0+IHtcbiAgY29uc3QgeyB0cmFpbmluZ1dvcmRzLCBzZXRUcmFpbmluZ1dvcmRzIH0gPSB1c2VUcmFpbmluZ1dvcmRzKCk7XG5cbiAgY29uc3QgZGVsZXRlVHJhaW5pbmdXb3JkID0gKGlkOiBudW1iZXIpID0+IHtcbiAgICBzZXRUcmFpbmluZ1dvcmRzKFxuICAgICAgKHRyYWluaW5nV29yZHMgYXMgSVdvcmRbXSkuZmlsdGVyKCh3b3JkOiBJV29yZCkgPT4gd29yZC5pZCAhPT0gaWQpLFxuICAgICk7XG4gIH07XG5cbiAgaWYgKCF0cmFpbmluZ1dvcmRzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxUcmFuc2l0aW9uR3JvdXA+XG4gICAgICB7KHRyYWluaW5nV29yZHMgYXMgSVdvcmRbXSkuZmlsdGVyKHNob3dGaXJzdCkubWFwKHdvcmQgPT4gKFxuICAgICAgICA8Q1NTVHJhbnNpdGlvbiBrZXk9e3dvcmQuaWR9IHRpbWVvdXQ9ezUwMH0gY2xhc3NOYW1lcz1cIml0ZW1cIj5cbiAgICAgICAgICA8V29yZENhcmQgey4uLndvcmR9IGRlbGV0ZVRyYWluaW5nV29yZD17ZGVsZXRlVHJhaW5pbmdXb3JkfSAvPlxuICAgICAgICA8L0NTU1RyYW5zaXRpb24+XG4gICAgICApKX1cbiAgICA8L1RyYW5zaXRpb25Hcm91cD5cbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBUcmFpbmluZyB9IGZyb20gJy4vVHJhaW5pbmcnO1xuXG5leHBvcnQgeyBUcmFpbmluZyB9O1xuZXhwb3J0IGRlZmF1bHQgVHJhaW5pbmc7XG4iXSwic291cmNlUm9vdCI6IiJ9